<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Ryan Johnson">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Formatting Translation Data - react-localize-redux</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../css/highlight-fix.css" rel="stylesheet">
  <link href="../css/highlight.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Formatting Translation Data";
    var mkdocs_page_input_path = "formatting-translation-data.md";
    var mkdocs_page_url = "/formatting-translation-data/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> react-localize-redux</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../getting-started/">Getting Started</a>
	    </li>
          
            <li class="toctree-l1 current">
		
    <a class="current" href="./">Formatting Translation Data</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#multiple-language-format">Multiple language format</a></li>
    

    <li class="toctree-l2"><a href="#single-language-format">Single language format</a></li>
    

    <li class="toctree-l2"><a href="#custom-data-format">Custom data format</a></li>
    

    <li class="toctree-l2"><a href="#nested-data-format">Nested data format</a></li>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../features/">Features</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">API Documentation</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../api/action-creators/">Action Creators</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/selectors/">Selectors</a>
                </li>
                <li class="">
                    
    <a class="" href="../api/higher-order-component/">Higher Order Component</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../faq/">FAQ</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">react-localize-redux</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Formatting Translation Data</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/ryandrewjohnson/react-localize-redux/edit/master/docs/formatting-translation-data.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>The translation data for you application will either come from json or vanilla JS, but in order for <code>react-localize-redux</code> to work with your data in needs to be in one of the following formats.</p>
<h2 id="multiple-language-format">Multiple language format</h2>
<blockquote>
<p>Use <strong><a href="../api/action-creators#addtranslationdata">addTranslation</a></strong> to add data in this format.</p>
</blockquote>
<p>The data is an object where the property name is your translation key, and the value is an array of translations. The translation key is used to identify the translation, and the value is an array that enforces the following...</p>
<ul>
<li>Includes a translation for each language your app supports.</li>
<li>The order of the translation strings in the array matters! The order <strong>MUST</strong> follow the order of the languages array passed to <a href="../[addTranslationForLanguage](/api/action-creators#addtranslationforlanguagedata-language)">setLanguages</a>.</li>
</ul>
<p>Assuming your application has dispatched <code>setLanguages('en', 'fr', 'es')</code>:</p>
<pre><code class="json">{
  &quot;greeting&quot;: [
    &quot;Hello&quot;,      (en)
    &quot;Bonjour&quot;,    (fr)
    &quot;Hola&quot;,       (es)
  ],
  &quot;farwell&quot;: [
    &quot;Goodbye&quot;,    (en)
    &quot;Au revoir&quot;,  (fr)
    &quot;Adiós&quot;       (es)
  ]
}
</code></pre>

<hr />
<h2 id="single-language-format">Single language format</h2>
<blockquote>
<p>Use <strong><a href="../api/action-creators#addtranslationforlanguagedata-language">addTranslationForLanguage</a></strong> to add data in this format.</p>
</blockquote>
<p>The data is an object where the property name is your translation key, and the value is the translation for the language. With the single language format you would dispatch <code>addTranslationForLanguage</code> for each language you support.</p>
<p>Assuming your application <code>setLanguages('en', 'fr', 'es')</code>:</p>
<pre><code class="json">// en.json
{
  &quot;greeting&quot;: &quot;Hello&quot;,
  &quot;farwell&quot;: &quot;Goodbye&quot;
}

// fr.json
{
  &quot;greeting&quot;:&quot;Bonjour&quot;,
  &quot;farwell&quot;: &quot;Au revoir&quot;
}

// es.json
{
  &quot;greeting&quot;: &quot;Hola&quot;,
  &quot;farwell&quot;: &quot;Adiós&quot;
}
</code></pre>

<hr />
<h2 id="custom-data-format">Custom data format</h2>
<p>If you cannot use the supported data formats there is a way to instruct react-localize-redux on how to handle your custom data. To do this you must pass the <a href="../api/action-creators#initialize-options">translationTransform</a> option when dispatching the <a href="../api/action-creators#initializelanguages-options">intialize</a> action, which takes a function in the following format: </p>
<pre><code class="javascript">const transformationFunction = (translationData: Object, languagesCodes: string[]) =&gt; {
  // Your transformation logic goes here...
};
</code></pre>

<p>This function is responsible for taking your custom data, and transforming it into the format required by react-localize-redux. You are responsible for writing the transformation logic, but after that the function will be run automatically whenever dispatching <a href="../api/action-creators#addtranslationdata">addTranslation</a>.</p>
<div class="admonition note">
  <p class="first admonition-title">Note</p>
  <p class="last">The transformation function will not be run if you use the <code><a href="/api/action-creators/#addtranslationforlanguagedata-language">addTranslationForLanguage</a></code> action.</p>
</div>

<p><strong> Example </strong></p>
<p>For example if you had data in the following format that you wanted to use...</p>
<pre><code class="javascript">const customTranslation = {
  en: {
    title: 'Title',
    subtitle: 'Subtitle'
  },
  fr: {
    title: 'FR - Title',
    subtitle: 'FR - Subtitle'
  }
};
</code></pre>

<p>You would need to transform it into this format to work with react-localize-redux.</p>
<pre><code class="javascript">const translations = {
  title: ['Title', 'FR - Title'],
  subtitle: ['Subtitle', 'FR - Subtitle']
};
</code></pre>

<p>This is where the transformation function comes in - we need to write a function that takes the custom translationData and returns the react-localize-redux format. Here is an example of what that function could look like for the example custom data:</p>
<pre><code class="javascript">const transformFunction = (translationData, languageCodes) =&gt; {
  return Object.keys(translationData).reduce((prev, cur, index) =&gt; {
    const languageData = data[cur];

    for(let prop in languageData) {
      const values = prev[prop] || [];
      prev[prop] = languageCodes.map((code, languageIndex) =&gt; {
        return index === languageIndex
          ? languageData[prop]
          : values[languageIndex];
      })
    }

    return prev;
  }, {});
};
</code></pre>

<p>Now when you dispatch the <a href="../api/action-creators#initializelanguages-options">intialize</a> action make sure you set the <a href="../api/action-creators#initialize-options">translationTransform</a> option equal to the <code>transformFunction</code>. Now anytime you dispatch the <a href="../api/action-creators#addtranslationdata">addTranslation</a> action the <code>transformFunction</code> will run on the translation data you are adding.</p>
<pre><code class="javascript">const languages = ['en', 'fr'];
store.dispatch(initialize(languages, { translationTransform: transformFunction }));

store.dispatch(addTranslation(customTranslation));
</code></pre>

<hr />
<h2 id="nested-data-format">Nested data format</h2>
<p>Both types of translation data support nested data format to help with organization of translations, and avoiding naming collisions with translation keys.</p>
<p><strong> Multiple language format </strong></p>
<pre><code class="json">{
  &quot;welcome&quot; {
    &quot;banner&quot;: {
      &quot;greeting&quot;: [&quot;Hello&quot;, &quot;Bonjour&quot;, &quot;Hola&quot;]
    },
    &quot;footer&quot;: {
      &quot;farwell&quot;: [&quot;Goodbye&quot;, &quot;Au revoir&quot;, &quot;Adiós&quot;]
    }
  }
}
</code></pre>

<p><strong> Single language format </strong></p>
<pre><code class="json">// en.json
{
  &quot;welcome&quot; {
    &quot;banner&quot;: {
      &quot;greeting&quot;: &quot;Hello&quot;
    },
    &quot;footer&quot;: {
      &quot;farwell&quot;: &quot;Goodbye&quot;
    }
  }
}

// fr.json
{
  &quot;welcome&quot; {
    &quot;banner&quot;: {
      &quot;greeting&quot;: &quot;Bonjour&quot;
    },
    &quot;footer&quot;: {
      &quot;farwell&quot;: &quot;Au revoir&quot;
    }
  }
}

// es.json
{
  &quot;welcome&quot; {
    &quot;banner&quot;: {
      &quot;greeting&quot;: &quot;Hola&quot;
    },
    &quot;footer&quot;: {
      &quot;farwell&quot;: &quot;Adiós&quot;
    }
  }
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../features/" class="btn btn-neutral float-right" title="Features">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../getting-started/" class="btn btn-neutral" title="Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/ryandrewjohnson/react-localize-redux" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../getting-started/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../features/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>

</body>
</html>
